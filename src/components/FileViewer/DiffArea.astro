<div
	id="diff-container"
	class="hidden flex-1 min-h-0 bg-neutral-50 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-lg overflow-hidden"
>
	<div
		id="diff-content"
		class="h-full overflow-auto text-[13px] font-mono py-2"
	/>
</div>

<style is:global>
	.diff-row {
		display: flex;
		line-height: 20px;
		white-space: pre-wrap;
		word-break: break-all;
	}

	.diff-line-number {
		width: 45px;
		min-width: 45px;
		padding: 0 8px;
		text-align: right;
		color: #999;
		user-select: none;
		border-right: 1px solid #eee;
		background-color: #f6f8fa;
	}

	[data-theme="dark"] .diff-line-number {
		color: #666;
		background-color: #0d1117;
		border-right: 1px solid #30363d;
	}

	.diff-line-content {
		padding: 0 12px;
		flex: 1;
	}

	/* Diff colors */
	.diff-row-deleted {
		background-color: #ffeef0;
	}
	[data-theme="dark"] .diff-row-deleted {
		background-color: #442d30;
	}
	.diff-row-deleted .diff-line-number {
		background-color: #ffdce0;
		border-right-color: #fdaeb7;
	}
	[data-theme="dark"] .diff-row-deleted .diff-line-number {
		background-color: #61222a;
		border-right-color: #6e363b;
	}

	.diff-row-added {
		background-color: #e6ffec;
	}
	[data-theme="dark"] .diff-row-added {
		background-color: #233329;
	}
	.diff-row-added .diff-line-number {
		background-color: #cdffd8;
		border-right-color: #bef5cb;
	}
	[data-theme="dark"] .diff-row-added .diff-line-number {
		background-color: #1a3a2a;
		border-right-color: #2b4b3b;
	}

	.diff-row-hunk {
		background-color: #f1f8ff;
		color: #586069;
	}
	[data-theme="dark"] .diff-row-hunk {
		background-color: #1e2836;
		color: #8b949e;
	}
	.diff-row-hunk .diff-line-number {
		background-color: #dbedff;
		border-right-color: #c8e1ff;
	}
	[data-theme="dark"] .diff-row-hunk .diff-line-number {
		background-color: #263449;
		border-right-color: #38444d;
	}

	/* Adjust Prism colors to work with our custom rows */
	.diff-line-content .token.deleted {
		background-color: transparent;
		text-decoration: none;
	}
	.diff-line-content .token.inserted {
		background-color: transparent;
	}
</style>
