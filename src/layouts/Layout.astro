---
import BaseHead from "../components/BaseHead.astro";
import FileExplorerPanel from "../components/FileExplorer/FileExplorerPanel.astro";
import FileViewer from "../components/FileViewer/FileViewer.astro";
import Header from "../components/Header/Header.astro";
import SpaceBackground from "./SpaceBackground.astro";

const {
	registry,
	title: pageTitle,
	description: pageDescription,
} = Astro.props;
const showDiff = true;

const title = pageTitle
	? `diffpack | ${pageTitle}`
	: "diffpack - Dependency Review";
const description =
	pageDescription ||
	"Compare package versions across ecosystems. Clean. Fast. Source-aware dependency review tool for npm and crates.io.";
---

<!doctype html>
<html lang="en" data-theme>
	<head>
		<BaseHead title={title} description={description} />
	</head>
	<body
		class="w-full h-dvh flex flex-col bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100"
	>
		<Header registry={registry} />

		<SpaceBackground showGradient={false} />

		<main class="w-full flex-1 flex flex-row overflow-hidden">
			{showDiff && (<FileExplorerPanel />)}
			<slot />
		</main>
	</body>
</html>
